<div class="container my-3">
  <div class="row">
    <div class="col-12">
      <h1 class="text-primary">Alterar Funcionário</h1>
    </div>
  </div>

  <form #formAlterarFuncionario="ngForm" method="post">
    <div class="row">
      <div class="col-12" id="dados">
        <h3>Altere os dadosn</h3>
        <div class="row">
          <!-- Nome -->
          <div class="form-floating col-sm-6 mb-3">
            <input type="text" class="form-control" id="nome" placeholder="Nome completo"
                   [(ngModel)]="funcionario.nome" name="nome" required minlength="2" #nomeCtrl="ngModel">
            <label for="nome">Nome</label>
            <i *ngIf="nomeCtrl.valid && nomeCtrl.touched"
               class="bi bi-check-lg text-success position-absolute end-0 top-50 translate-middle-y me-3"></i>
            <i *ngIf="nomeCtrl.invalid && nomeCtrl.touched"
               class="bi bi-x-lg text-danger position-absolute end-0 top-50 translate-middle-y me-3"></i>
            <div *ngIf="nomeCtrl.invalid && nomeCtrl.touched && nomeCtrl.value.length === 0" class="text-danger">
              Nome é obrigatório.
            </div>
            <div *ngIf="nomeCtrl.hasError('minlength')" class="text-danger">
              O nome deve ter no mínimo 2 caracteres.
            </div>
          </div>

          <!-- E-mail -->
          <div class="form-floating col-sm-6 mb-3">
            <input type="email" class="form-control" id="email" placeholder="email@example.com"
                   [(ngModel)]="funcionario.email" name="email" required email #emailCtrl="ngModel">
            <label for="email">E-mail</label>
            <i *ngIf="emailCtrl.valid && emailCtrl.touched"
               class="bi bi-check-lg text-success position-absolute end-0 top-50 translate-middle-y me-3"></i>
            <i *ngIf="emailCtrl.invalid && emailCtrl.touched"
               class="bi bi-x-lg text-danger position-absolute end-0 top-50 translate-middle-y me-3"></i>
            <div *ngIf="emailCtrl.invalid && emailCtrl.touched" class="text-danger">
              Informe um e-mail válido.
            </div>
          </div>
        </div>

        <div class="row">
          <!-- CPF -->
          <div class="form-floating col-sm-6 mb-3">
            <input type="text" class="form-control" id="cpf" placeholder="Precisamos de um CPF válido." 
                   [(ngModel)]="funcionario.cpf" inputmode="numeric" name="cpf" required cpf #cpfCtrl="ngModel" mask="000.000.000-00" disabled>
            <label for="cpf" class="form-label">CPF</label>
          </div>

          <!-- Telefone -->
          <div class="form-floating col-sm-6 mb-3">
            <input type="text" class="form-control" id="telefone" placeholder="Precisamos de um Telefone." 
                   [(ngModel)]="funcionario.telefone" inputmode="numeric" name="telefone" required telefone #telefoneCtrl="ngModel" mask="(00)00000-0000">
            <label for="telefone" class="form-label">Telefone</label>
            <i *ngIf="telefoneCtrl.valid && telefoneCtrl.touched"
               class="bi bi-check-lg text-success position-absolute end-0 top-50 translate-middle-y me-3"></i>
            <i *ngIf="telefoneCtrl.invalid && telefoneCtrl.touched"
               class="bi bi-x-lg text-danger position-absolute end-0 top-50 translate-middle-y me-3"></i>
            <div *ngIf="telefoneCtrl.invalid && telefoneCtrl.touched" class="text-danger">
              Informe um Telefone válido.
            </div>
          </div>
        </div>
      </div>

      <div class="mt-4">
        <button type="submit" class="btn btn-primary" [disabled]="!formAlterarFuncionario.valid || !formAlterarFuncionario.touched"
                (click)="onSubmit(formAlterarFuncionario)">Enviar
        </button>
      </div>

    </div>
  </form>
</div>
